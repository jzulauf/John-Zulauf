<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>loop_test.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>/users/jcrouse/perforce/drivers/projects/geodelx/linux/glibc/candidates/common/utils/loop_test.c File Reference</h1>Implements standard inner and outer loop for performance testing. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;limits.h&gt;</code><br>
<code>#include &lt;math.h&gt;</code><br>
<code>#include "def_test.h"</code><br>
<code>#include "<a class="el" href="bucket__stats_8h-source.html">bucket_stats.h</a>"</code><br>
<code>#include "<a class="el" href="test__utils_8h-source.html">test_utils.h</a>"</code><br>
<code>#include "<a class="el" href="loop__test_8h-source.html">loop_test.h</a>"</code><br>
<code>#include "<a class="el" href="table_8h-source.html">table.h</a>"</code><br>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Compounds</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structT__loop__result__line.html">T_loop_result_line</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>stores one line of statistics and results for all tests</em> <a href="structT__loop__result__line.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structT__loop__results.html">T_loop_results</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>stores the table of results for counts and tests. The results are organized into lines (<a class="el" href="structT__loop__result__line.html">T_loop_result_line</a>::) for each valid count in the range defined by size, start, and incr. Additionally, the run field controls whether a given test is run at all.</em> <a href="structT__loop__results.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a21">LOOP_START_TEST</a>(tick)</td></tr>
<tr><td nowrap align=right valign=top>#define&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a22">LOOP_END_TEST</a>(tick)</td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a1">loop_get_num_test</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>return the value of NUM_TEST, so we don't have to make def_tests global</em> <a href="group__loop__test.html#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a2">loop_get_testname</a> (size_t test)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>return the test names , so we don't have to make def_tests global</em> <a href="group__loop__test.html#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="structT__loop__results.html">T_loop_results</a> *&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a3">loop_results_create</a> (<a class="el" href="structT__test__app.html">T_test_app</a> *app)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>allocates and initialize a <a class="el" href="structT__loop__results.html">T_loop_results</a>:: structure. The <a class="el" href="structT__loop__results.html#m4">T_loop_results::lines</a> are initialized to for each valid count in the supplied <a class="el" href="structT__test__app.html">T_test_app</a>::, and the T_loop_result::run flags are set based on the <a class="el" href="structT__test__app.html#m13">T_test_app::testmask</a></em> <a href="group__loop__test.html#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a4">loop_results_destroy</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>deallocate a loop_results structure</em> <a href="group__loop__test.html#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a5">loop_results_record</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, size_t count, size_t test, <a class="el" href="rdtsc_8h.html#a2">T_tick</a> data)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>record a data point in the appropriate T_loop_result::lines entry based on the count and test indices. Notices that the line index must be solved backwards from the count and the T_loop_result::start etc. as their is not a line for every count, but only for every <b>valid</b> count.</em> <a href="group__loop__test.html#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a6">loop_inner</a> (size_t ord, size_t test, <a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>run the inner loop of the testing for a given function and count if ! app-&gt;rand, the count will be constant, but should still be derived from the count in <b>DEF_NEXT</b>. <b>DEF_RUN</b> should <b>only</b> call the function under test with any parameter set up or pointer math handled in <b>DEF_NEXT</b>. Notice that DEF_NEXT begins a block, thus extra variables needed for this can be define in DEF_NEXT and referenced in DEF_RUN without impacting the timestamp.</em> <a href="group__loop__test.html#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a7">loop_results_compute</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>compute the statistical results for this loop. This should be called prior to <a class="el" href="group__loop__test.html#a19">loop_results_report()</a></em> <a href="group__loop__test.html#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a8">loop_results_get_raw</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, size_t count, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a9">loop_results_get_comp</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, size_t count, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a10">loop_results_get_comp_diff</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, size_t count, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a11">loop_results_get_comp_pct</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, size_t count, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a12">loop_results_get_diff</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, size_t count, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a13">loop_results_get_normalized</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, size_t count, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a14">loop_results_get_speed</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, size_t count, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a15">loop_results_fill_table</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, <a class="el" href="table_8h.html#a9">T_table</a> *tbl, size_t row_base, size_t col_base, char type)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a16">loop_results_count_total</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr)</td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a17">loop_results_raw_total</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, size_t test)</td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a18">loop_results_fill_data</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app, <a class="el" href="table_8h.html#a9">T_table</a> *tbl, size_t row_data, size_t col_data)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a19">loop_results_report</a> (<a class="el" href="structT__loop__results.html">T_loop_results</a> *lr, <a class="el" href="structT__test__app.html">T_test_app</a> *app)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>print the statistical results for this loop. This should not be called until after <a class="el" href="group__loop__test.html#a7">loop_results_compute()</a></em> <a href="group__loop__test.html#a19"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__loop__test.html#a20">loop_test</a> (<a class="el" href="structT__test__app.html">T_test_app</a> *app)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set up and run the inner loop for the test, and then report the results.</em> <a href="group__loop__test.html#a20"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implements standard inner and outer loop for performance testing.
<p>

<p>
<hr><address style="align: right;"><small>Generated on Thu Sep 14 15:20:11 2006 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
